import{j as e}from"./ui-BKBseNsZ.js";import{r as s}from"./vendor-DD48japz.js";import{u as t}from"./redux-Ci2fcpDP.js";const a=()=>{const{isAuthenticated:a}=t(e=>e.auth),[r,l]=s.useState([]),[i,n]=s.useState(""),[c,o]=s.useState(null),d=s.useRef(null);s.useEffect(()=>{var e;null==(e=d.current)||e.scrollIntoView({behavior:"smooth"})},[r]);return a?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"flex h-[600px]",children:[e.jsxs("div",{className:"w-1/3 border-r border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Messages"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your conversations"})]}),e.jsx("div",{className:"overflow-y-auto",children:[{id:"match_1",name:"Emma",photo:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&h=400&fit=crop&crop=face",lastMessage:"Hey! How was your day?",timestamp:"2 min ago",unread:2},{id:"match_2",name:"Sophia",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop&crop=face",lastMessage:"That sounds amazing!",timestamp:"1 hour ago",unread:0},{id:"match_3",name:"Alex",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face",lastMessage:"Thanks for the great conversation",timestamp:"3 hours ago",unread:1}].map(s=>e.jsx("div",{onClick:()=>o(s),className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-100 transition-colors "+((null==c?void 0:c.id)===s.id?"bg-blue-50 border-blue-200":""),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.photo,alt:s.name,className:"w-12 h-12 rounded-full object-cover"}),s.unread>0&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s.unread})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 truncate",children:s.name}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:s.lastMessage}),e.jsx("p",{className:"text-xs text-gray-400",children:s.timestamp})]})]})},s.id))})]}),e.jsx("div",{className:"flex-1 flex flex-col",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:c.photo,alt:c.name,className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:c.name}),e.jsx("p",{className:"text-sm text-gray-600",children:"Online"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===r.length?e.jsx("div",{className:"text-center text-gray-500 mt-8",children:e.jsx("p",{children:"No messages yet. Start the conversation!"})}):r.map(s=>e.jsx("div",{className:"flex "+("user"===s.sender?"justify-end":"justify-start"),children:e.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-2xl "+("user"===s.sender?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),children:[e.jsx("p",{className:"text-sm",children:s.text}),e.jsx("p",{className:"text-xs opacity-70 mt-1",children:s.timestamp.toLocaleTimeString()})]})},s.id)),e.jsx("div",{ref:d})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),i.trim()&&c){const e={id:Date.now(),text:i,sender:"user",timestamp:new Date,matchId:c.id};l([...r,e]),n("")}},className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors",children:"Send"})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ðŸ’¬"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),e.jsx("p",{children:"Choose a match to start chatting"})]})})})]})})})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-pink-50 to-indigo-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Please log in to view messages"}),e.jsx("p",{className:"text-gray-600",children:"Connect with your matches and start meaningful conversations."})]})})};export{a as default};
